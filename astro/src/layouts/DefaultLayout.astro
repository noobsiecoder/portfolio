---
interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="description" content={description} />
    <link
      rel="icon"
      type="image/png"
      href="/icons/favicon-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="/icons/favicon-16x16.png"
      sizes="16x16"
    />
    <link
      rel="icon"
      type="image/png"
      href="/icons/apple-touch-icon.png"
      sizes="180x180"
    />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@100..900&family=Poppins:wght@200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
      integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV"
      crossorigin="anonymous"
    />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
      integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8"
      crossorigin="anonymous"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
      integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"></script>
    <title>{title}</title>
  </head>
  <body
    class="relative min-h-screen px-6 py-9 md:px-24 md:py-12 lg:px-72 lg:py-16 xl:px-96 2xl:px-[28rem] 3xl:px-[32rem] 4xl:px-[36rem] 5xl:px-[40rem] 6xl:px-[44rem] 7xl:px-[48rem] bg-stone-50 dark:bg-stone-900"
  >
    <slot />
  </body>
  <script>
    // function to set theme
    function setTheme(theme: string) {
      localStorage.setItem("theme", theme);
      theme === "dark"
        ? document.documentElement.classList.add("dark")
        : document.documentElement.classList.remove("dark");
    }

    // check for default theme
    const defaultDarkTheme = window.matchMedia(
      "(prefers-color-scheme: dark)"
    ).matches;
    const defaultLightTheme = window.matchMedia(
      "(prefers-color-scheme: light)"
    ).matches;

    // check for localstorage
    const localTheme: string | null = localStorage.getItem("theme");

    // set theme to dark mode
    if (defaultDarkTheme && localTheme === null) {
      setTheme("dark");
    }

    // set theme to light mode
    if (defaultLightTheme && localTheme === null) {
      setTheme("light");
    }

    // set theme according to localtheme/user customization (theme button)
    if (localTheme !== null) setTheme(localTheme);
  </script>
</html>
